<div class="container" ng-controller="ChatCtrl">
    <h2>Le Mur</h2>
    <h4>Laissez votre message !</h4>
    <hr>
    <form ng-submit="doPost()" ng-init="getPosts();">

        <div class="row">

            <div ng-show="isConnected()">
                <h4 class="text-center">Got something to say?</h4>

                <div class="col-xs-12">
                    <div class="col-xs-1">
                        <a class="btn btn-default" ng-click="getPosts()"><i class="glyphicon glyphicon-refresh"></i></a>
                    </div>
                    <div class="col-xs-11">
                        <div class="input-group">
                            <input class="form-control input-large" placeholder="Add to the conversation" id="inputText" type="text" required="required">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="submit">Post</button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div ng-show="!isConnected()">
                <h4 class="text-center">Vous devez être connectés pour poster des messages. Par <a href="#signin?callback=contact">ici</a>.</h4>
            </div>

            <div class="clearfix"></div>

        </div>

        <br/>

        <div class="row" id="postList">
            <div ng-repeat="p in posts.posts" class="col-sm-12">

                <div class="row">
                    <div class="col-xs-2" ng-class-odd="'col-xs-push-9'">
                        <h3><span class="label label-success">{{p.nickName}}</span></h3>
                    </div>
                    <div class="col-xs-9" ng-class-odd="'col-xs-pull-2'">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                {{p.message}}<br>
                                <span class="label label-default">{{ p.date | date:'dd-MM-yyyy HH:mm:ss' }}</span>
                            </div>
                        </div>
                    </div> <!--/col-->
                    <div class="col-xs-1">
                        <span ng-show="hasAuthorization(p)"><a class="btn btn-danger" ng-click="deletePost(p)"><i class="glyphicon glyphicon-remove-sign"></i></a></span>
                    </div>
                </div><!--/row-->

            </div><!--/col-->

        </div><!--/row-->
    </form>
</div><!--/container-->